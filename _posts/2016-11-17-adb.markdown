---
layout: post
title:  "Linux,Unix下环境变量的配置"
date:   2016-11-17 20:14 +0800
categories: Ma Lin update
---

这里配置到当前的用户下<br/>

1.编辑配置文件<br/>
命令如下<br/>
`vim ~/.bashrc`


2.进入后，在英文输入法下，输入i(表示插入),在配置文件的最后，添加如下配置，这里以Android SDK Tool为例<br/>

`export ANDROID_HOME=/home/malin/sdk`<br/>
`export PATH=$PATH:$ANDROID_HOME/platform-tools`<br/>
`export PATH=$PATH:$ANDROID_HOME/tools`<br/>

![environment](http://ogxkun013.bkt.clouddn.com/huanjing.png)

>说明:<br/>
这里/home/malin/sdk 是我电脑上Android SDK的路径。请替换为你自己电脑上Android SDK的路径。<br/>
便捷的方法是，使用cd命令切换到sdk的文件夹下。<br/>
例如：`cd /home/malin/sdk`。然后使用pwd命令查看当前的路径<br/>


插入如上的文本后，就是保存了,步骤如下所示:<br/>
a.按 Esc键（键盘的左上角）<br/>
b.英文输入法下输入 :wq<br/>
c.输入回车<br/>
这样紫就保存了.<br/>

![environment2](http://ogxkun013.bkt.clouddn.com/e2.png)


3.使配置文件生效<br/>
使用如下的命令<br/>
`source ~/.bashrc`

4.测试是否生效<br/>
`adb version`

5.获取手机IP地址：<br/>
将 Android 设备与要运行 adb 的电脑连接到同一个局域网，比如连到同一个 WiFi。<br/>
将设备与电脑通过 USB 线连接。<br/>
应确保连接成功（可运行 adb devices 看是否能列出该设备）。<br/>
让设备在 5555 端口监听 TCP/IP 连接：<br/>
adb tcpip 5555<br/>
断开 USB 连接。<br/>
找到设备的 IP 地址。<br/>
一般能在「设置」-「关于手机」-「状态信息」-「IP地址」找到。<br/>
通过 IP 地址连接设备。<br/>

或者使用如下的脚本获取手机的IP地址。<br/>
`adb shell ifconfig | grep "inet addr" | grep "Bcast" | cut -d ":" -f 2 | cut -d " " -f 1`<br/>

adb connect <device-ip-address><br/>
这里的 <device-ip-address> 就是上一步中找到的设备 IP 地址。<br/>
确认连接状态。<br/>
adb devices<br/>

![adb_connect](http://ogxkun013.bkt.clouddn.com/adb_connect.png)
