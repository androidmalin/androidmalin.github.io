<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="#1. Source for Android 28android SDK Platform -&amp;gt; Android API 28 -&amp;gt; Source for Android 28 这个源码位置在frameworks/base下的sdk-release分支. #2. Build your own android-28 sourcesBuild “Sources for Android 28">
<meta property="og:type" content="article">
<meta property="og:title" content="Source for Android 28">
<meta property="og:url" content="https://www.malin.xyz/2018/08/18/android-source/index.html">
<meta property="og:site_name" content="马琳">
<meta property="og:description" content="#1. Source for Android 28android SDK Platform -&amp;gt; Android API 28 -&amp;gt; Source for Android 28 这个源码位置在frameworks/base下的sdk-release分支. #2. Build your own android-28 sourcesBuild “Sources for Android 28">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-09-04T08:14:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Source for Android 28">
<meta name="twitter:description" content="#1. Source for Android 28android SDK Platform -&amp;gt; Android API 28 -&amp;gt; Source for Android 28 这个源码位置在frameworks/base下的sdk-release分支. #2. Build your own android-28 sourcesBuild “Sources for Android 28">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://www.malin.xyz/2018/08/18/android-source/"/>





  <title>Source for Android 28 | 马琳</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">马琳</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">简单，美好，奋发</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.malin.xyz/2018/08/18/android-source/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="马琳">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="马琳">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Source for Android 28</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-18T17:58:00+08:00">
                2018-08-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/18/android-source/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/08/18/android-source/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>#1. Source for Android 28<br>android SDK Platform -&gt; Android API 28 -&gt; Source for Android 28 这个源码位置在<br><a href="https://android.googlesource.com/platform/frameworks/base/+refs" target="_blank" rel="noopener">frameworks/base</a>下的<a href="https://android.googlesource.com/platform/frameworks/base/+/sdk-release" target="_blank" rel="noopener">sdk-release</a>分支.</p>
<p>#2. <a href="https://gist.github.com/cketti/71475220a08c9ee43fd48ecaaf7046a5" target="_blank" rel="noopener">Build your own android-28 sources</a><br>Build “Sources for Android 28” so you can comfortably browse the Android API source in Android Studio.</p>
<ol>
<li>Collect source files</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mkdir android-sdk-source-build</span><br><span class="line">cd android-sdk-source-build</span><br><span class="line"></span><br><span class="line">mkdir -p frameworks/base</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Fetch repositories that contain the sources we<span class="string">'re interested in</span></span></span><br><span class="line">git clone --depth 1 https://android.googlesource.com/platform/frameworks/base -b android-9.0.0_r3 frameworks/base</span><br><span class="line">git clone --depth 1 https://android.googlesource.com/platform/libcore -b android-9.0.0_r3</span><br><span class="line">git clone --depth 1 https://android.googlesource.com/platform/development -b android-9.0.0_r3</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Create a basic source.properties file</span></span><br><span class="line">echo -e "Pkg.UserSrc=false\nPkg.Revision=1\nAndroidVersion.ApiLevel=28" &gt; source.properties</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Modify the script to create a sources ZIP to use <span class="string">"android-28"</span> as top-level directory</span></span><br><span class="line">cat development/build/tools/mk_sources_zip.py | sed -e 's/TOP_FOLDER = .*/TOP_FOLDER = "android-28"/' &gt; my_mk_sources_zip.py</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Run the script to create android-28-sources.zip</span></span><br><span class="line">python my_mk_sources_zip.py -z source.properties android-28-sources.zip .</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>Extract into Android SDK source directory</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip android-28-sources.zip -d $&#123;ANDROID_HOME&#125;/sources</span><br></pre></td></tr></table></figure>
</li>
<li><p>Restart Android Studio and SDK sources should show up.</p>
</li>
</ol>
<p>说明:android-9.0.0_r3是一个tag.<br>指定 tag 代码<br><code>git checkout -b demobranch demotag</code></p>
<p>#3.<br>第一次使用<br>Sync成功后，所有的git库都处于 no branch状态，不能进行操作<br>需要初化分支<br>Repo start master –all</p>
<p>#4. 对tag的理解</p>
<p><a href="https://stackoverflow.com/questions/35979642/how-to-checkout-remote-git-tag/35981459" target="_blank" rel="noopener">how-to-checkout-remote-git-tag</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A tag is used to label and mark a specific commit in the history.</span><br><span class="line">It is usually used to mark release points (eg. v1.0, etc.).</span><br><span class="line"></span><br><span class="line">Although a tag may appear similar to branch, a tag, however, does not change.</span><br><span class="line">It points directly to a specific commit in the history.</span><br></pre></td></tr></table></figure>
<p>#5. repo如何取消本地改动（How to discard changes using repo）<br><code>repo forall -vc &quot;git reset --hard&quot;</code><br>如果执行完成后，依旧提示某个目录有改动，则切换到有问题的目录，继续执行<br><code>git reset --hard</code></p>
<p><a href="https://stackoverflow.com/a/18096819/3326683" target="_blank" rel="noopener">how-to-discard-changes-using-repo</a></p>
<p>#6. android studio 打开AOSP源码<br>官方文档<br><a href="https://android.googlesource.com/platform/development/+/android-9.0.0_r3/tools/idegen/README" target="_blank" rel="noopener">development/tools/idegen</a></p>
<p>#7. android 27<br>sdk <code>Source for Android 27</code> 中包含<br><code>/home/malin/sdk/sources/android-27/android/arch/lifecycle/LifecycleRuntimeTrojanProvider.java</code><br>这个很奇怪.按道理应该是手动引入的依赖.现在却放在了<code>Source for Android 27</code>中了.<br>如果手动引入这个类对应的依赖.可以覆盖.<br>因为这个类的名字<code>特洛伊木马</code>会被杀毒软件检测出来,认为是病毒.新版已经将名字修改了.</p>
<p><a href="https://github.com/aosp-mirror/platform_frameworks_support/commit/566dbfd4b16f43685d4bdc835b1b862883b94d96" target="_blank" rel="noopener">Remove LifecycleDispatcher &amp; Rename LifecycleRuntimeTrojanProvider</a></p>
<p><code>cd /onet/malin/android_source/frameworks/support</code><br><code>git log --all | grep -C 10 &quot;Remove&quot; | grep -C 10 LifecycleDispatcher | grep -C 10 566dbfd4b16f43685d4bdc835b1b862883b94d96</code></p>
<p>#8. ubuntu18.04 编译android-8.1.0_r43, 编译aosp_angler-userdebug<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">35 warnings generated.</span><br><span class="line">[  4% 4298/89666] Lex: applypatch &lt;= bootable/recovery/edify/lexer.ll</span><br><span class="line">FAILED: out/target/product/angler/obj/STATIC_LIBRARIES/libedify_intermediates/lexer.cpp</span><br><span class="line">/bin/bash -c &quot;prebuilts/misc/linux-x86/flex/flex-2.5.39 -oout/target/product/angler/obj/STATIC_LIBRARIES/libedify_intermediates/lexer.cpp bootable/recovery/edify/lexer.ll&quot;</span><br><span class="line">flex-2.5.39: loadlocale.c:130:_nl_intern_locale_data: ?? &apos;cnt &lt; (sizeof (_nl_value_type_LC_TIME) / sizeof (_nl_value_type_LC_TIME[0]))&apos; ???</span><br><span class="line">Aborted (core dumped)</span><br><span class="line">[  4% 4305/89666] target StaticLib: libv8src (out/target/product/angler/obj/STATIC_LIBRARIES/libv8src_intermediates/libv8src.a)</span><br><span class="line">ninja: build stopped: subcommand failed.</span><br><span class="line">15:00:53 ninja failed with: exit status 1</span><br><span class="line"></span><br><span class="line">#### failed to build some targets (07:19 (mm:ss)) ####</span><br><span class="line"></span><br><span class="line">malin@malin:/onet/malin/android_source$ export LC_ALL=C</span><br></pre></td></tr></table></figure></p>
<p>解决办法<br><code>export LC_ALL=C</code><br><a href="https://www.reddit.com/r/LineageOS/comments/8v2pjc/building_with_ubuntu_1804/" target="_blank" rel="noopener">building_with_ubuntu_1804</a><br><a href="https://stackoverflow.com/questions/51324238/aosp-build-stopped-subcommand-failed" target="_blank" rel="noopener">aosp-build-stopped-subcommand-failed</a><br><a href="https://stackoverflow.com/questions/49301627/android-7-1-2-armv7" target="_blank" rel="noopener">android-7-1-2-armv7</a></p>
<p>#9. aosp编译完占用的空间.<br>android-8.1.0_r43, 编译aosp_angler-userdebug 完成. 占用192G空间.</p>
<p>#10</p>
<p>找到对应tag的名称<br><a href="https://source.android.com/setup/start/build-numbers?hl=en#platform-code-names-versions-api-levels-and-ndk-releases" target="_blank" rel="noopener">platform-code-names-versions-api-levels-and-ndk-releases</a><br><code>OPM6.171019.030.H1    android-8.1.0_r43    Nexus 5X and Nexus 6P</code></p>
<p>驱动下载<br><a href="https://developers.google.com/android/drivers#angler" target="_blank" rel="noopener">drivers#angler</a><br><code>Nexus 6P binaries for Android 8.1.0 (OPM6.171019.030.H1)</code></p>
<p>ota<br><a href="https://developers.google.com/android/ota" target="_blank" rel="noopener">ota</a><br><code>&quot;angler&quot; for Nexus 6P</code><br><code>(OPM6.171019.030.H1, Aug 2018)</code></p>
<p><a href="https://source.android.com/setup/build/running?hl=en" target="_blank" rel="noopener">running</a><br>Nexus 6P    angler    aosp_angler-userdebug</p>
<p><a href="https://source.android.com/setup/build/jack" target="_blank" rel="noopener">build/jack</a><br><code>Jack 是一种 Android 工具链，用于将 Java 源代码编译成 Android dex 字节码。要使用 Jack，您只需使用标准的 Makefile 命令来编译源代码树或您的项目即可，无需进行任何其他操作。Android 8.1 是使用 Jack 的最后一个版本</code></p>
<p><a href="https://source.android.com/setup/build/building" target="_blank" rel="noopener">开始编译包括驱动</a><br><a href="https://source.android.com/setup/build/running" target="_blank" rel="noopener">刷机</a></p>
<p><a href="https://blog.csdn.net/u012417380/article/details/73196722" target="_blank" rel="noopener">Android系统源码编译及刷机实战</a><br><a href="https://blog.csdn.net/u012417380/article/details/72843185" target="_blank" rel="noopener">NEXUS 5 工厂镜像刷机教程及刷机包目录解析</a><br><a href="https://tuzhao.org/article/40" target="_blank" rel="noopener">android源码编译7.1.2 for Nexus 6P手机</a><br><a href="https://tuzhao.org/article/44" target="_blank" rel="noopener">android源码编译8.1.0 for Nexus 6P手机</a><br><a href="https://www.reddit.com/r/LineageOS/comments/8v2pjc/building_with_ubuntu_1804/" target="_blank" rel="noopener">building_with_ubuntu_1804</a></p>
<p>#11 repo切换分支</p>
<p><code>repo init -b android-8.1.0_r43</code><br><code>sync</code><br><code>repo start android-8.1.0_r43 --all</code></p>
<p>#12 compile<br><code>export LC_ALL=C</code><br><code>make clean</code><br><code>make clobber</code><br><code>vim device/huawei/angler/vendorsetup.sh</code><br>增加<code>add_lunch_combo aosp_angler-eng</code></p>
<p><code>source build/envsetup.sh</code><br><code>make -j8</code></p>
<p>#13 Android Studio 断点源码<br>不用先make 完整编译,只需要编译idegen模块即可<br>1.<code>make idegen</code><br>2.<code>./development/tools/idegen/idegen.sh</code><br>3.修改编译好的android.imi,增加不需要的文件夹.<br><code>cat development/tools/idegen/README</code><br>4.修改android studio的参数.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">If you&apos;re using IntelliJ...</span><br><span class="line"></span><br><span class="line">    If this is your first time using IDEGen...</span><br><span class="line"></span><br><span class="line">        Android is large, thus IDEA needs a lot of memory. Add &quot;-Xms1g -Xmx5g&quot; to</span><br><span class="line">        your VM options in &quot;Help &gt; Edit Custom VM&quot; and increase the</span><br><span class="line">        file size limit in &quot;Help -&gt; Edit custom properties&quot; by adding</span><br><span class="line">        &quot;idea.max.intellisense.filesize=100000&quot;. Make sure to restart the IDE for</span><br><span class="line">        the new settings to take effect.</span><br><span class="line"></span><br><span class="line">        Create a JDK configuration named &quot;1.8 (No Libraries)&quot; by adding a new</span><br><span class="line">        JDK like you normally would and then removing all of the jar entries</span><br><span class="line">        under the &quot;Classpath&quot; tab. This will ensure that you only get access to</span><br><span class="line">        Android&apos;s core libraries and not those from your desktop VM.</span><br><span class="line"></span><br><span class="line">    From the project&apos;s root directory...</span><br><span class="line"></span><br><span class="line">        Repeat these steps after each sync...</span><br><span class="line"></span><br><span class="line">        1) make (to produce generated .java source)</span><br><span class="line">        2) development/tools/idegen/idegen.sh</span><br><span class="line">        3) Open android.ipr in IntelliJ. If you already have the project open,</span><br><span class="line">           hit the sync button in IntelliJ, and it will automatically detect the</span><br><span class="line">           updated configuration.</span><br><span class="line"></span><br><span class="line">        If you get unexpected compilation errors from IntelliJ, try running</span><br><span class="line">        &quot;Build -&gt; Rebuild Project&quot;. Sometimes IntelliJ gets confused after the</span><br><span class="line">        project changes significantly.</span><br></pre></td></tr></table></figure></p>
<p>#14 gdb命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">List of classes of commands:</span><br><span class="line"></span><br><span class="line">aliases -- Aliases of other commands</span><br><span class="line">breakpoints -- Making program stop at certain points</span><br><span class="line">data -- Examining data</span><br><span class="line">files -- Specifying and examining files</span><br><span class="line">internals -- Maintenance commands</span><br><span class="line">obscure -- Obscure features</span><br><span class="line">running -- Running the program</span><br><span class="line">stack -- Examining the stack</span><br><span class="line">status -- Status inquiries</span><br><span class="line">support -- Support facilities</span><br><span class="line">tracepoints -- Tracing of program execution without stopping the program</span><br><span class="line">user-defined -- User-defined commands</span><br><span class="line"></span><br><span class="line">Type &quot;help&quot; followed by a class name for a list of commands in that class.</span><br><span class="line">Type &quot;help all&quot; for the list of all commands.</span><br><span class="line">Type &quot;help&quot; followed by command name for full documentation.</span><br><span class="line">Type &quot;apropos word&quot; to search for commands related to &quot;word&quot;.</span><br><span class="line">Command name abbreviations are allowed if unambiguous.</span><br></pre></td></tr></table></figure></p>
<p>#15 gdb 调试</p>
<p>1.编译<code>aosp_angler-eng</code>到nexus6p手机中.</p>
<p>2.查看要调试的应用进程<br><code>adb shell ps | grep malin</code> 例如得到的是<br><code>u0_a63        7807   921 4315356  58780 SyS_epoll_wait 753e1f83f8 S com.malin.nativeframework</code><br>应用进程为<code>7807</code></p>
<p>设置环境变量<br><code>source  build/envsetup.sh</code><br><code>lunch aosp_angler-eng</code><br><code>command -v gdbclient.py</code></p>
<p>3.使用GDB调试应用<br><code>gdbclient 7807</code><br><a href="https://source.android.com/devices/tech/debug/gdb" target="_blank" rel="noopener">此脚本会设置端口转发，在设备上启动相应的 gdbserver，在主机上启动相应的 gdb，配置 gdb 以找出符号，然后将 gdb 连接到远程 gdbserver</a></p>
<p>4.进入gdb后,<br><code>info sharedlibrary</code><br>查看so库的加载路径是否正确可使用info sharedlibrary命令，如果已找到对应的文件则其From和To的加载地址会有值，<br>并且右边路径显示的就是加载文件所在的地址，这个时候，如果so库文件含符号信息，则syms Read的值为Yes，否则为No，<br>如果未找到对应的文件则From和To的地址为空，syms Read的值为No，此时右边路径显示的是Coredump文件中库文件路径。<br><a href="https://blog.csdn.net/_xiao/article/details/23289971" target="_blank" rel="noopener">GDB动态库搜索路径</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(gdb) info sharedlibrary</span><br><span class="line">From                To                  Syms Read   Shared Object Library</span><br><span class="line">0x000000753f265640  0x000000753f320e74  Yes         /onet/malin/android_source/out/target/product/angler/symbols/system/bin/linker64</span><br><span class="line">0x000000753d538cc8  0x000000753d630b1c  Yes         /onet/malin/android_source/out/target/product/angler/symbols/system/lib64/libandroid_runtime.so</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>5.进入gdb后,设置断点文件的目录<br><code>dir source 指定源码路径</code><br><code>dir /onet/malin/android_source/system/core/libutils</code></p>
<p>6.进入gdb后,查看要断点的文件的行数<br><code>list file:filenum       显示文件file中的filenum行</code><br><code>list Looper.cpp:67</code><br><code>list android_os_MessageQueue.cpp:190</code></p>
<p>7.进入gdb后,给文件具体行数设置断点.<br><code>b Looper.cpp:67</code><br><code>b Looper.cpp:68</code><br><code>b android_os_MessageQueue.cpp:190</code><br><code>b android_os_MessageQueue.cpp:191</code></p>
<p>列出设置的断点<br><code>info breakpoints</code></p>
<p>8.操作应用程序,触发断点.</p>
<p>9.程序在运行到断点的地方停止.</p>
<p>10.在终端gdb,输入<code>c</code>,然后回车继续.</p>
<p>11.在终端gdb,输入<code>c</code>,然后回车继续.</p>
<p>12.在终端gdb,输入<code>bt</code>,查看方法调用栈.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">(gdb) bt</span><br><span class="line">#0  android::android_os_MessageQueue_nativePollOnce (env=0x74ba6cb1c0, obj=&lt;optimized out&gt;, ptr=501344133568, timeoutMillis=&lt;optimized out&gt;) at frameworks/base/core/jni/android_os_MessageQueue.cpp:192</span><br><span class="line">#1  0x00000000727d2830 in android.app.NativeActivity.onWindowFocusChangedNative [DEDUPED] () from /onet/malin/android_source/out/target/product/angler/symbols/system/framework/arm64/boot-framework.oat</span><br><span class="line">#2  0x00000074ba4f0b8c in art_quick_invoke_stub () at art/runtime/arch/arm64/quick_entrypoints_arm64.S:1697</span><br><span class="line">#3  0x00000074ba082598 in art::ArtMethod::Invoke (this=0x7110fcc8, self=0x74ba6bea00, args=0x7ff682ca5c, args_size=16, result=0x7ff682cc20, shorty=0x74b8850213 &quot;VJI&quot;) at art/runtime/art_method.cc:367</span><br><span class="line">#4  0x00000074ba2414a0 in art::interpreter::ArtInterpreterToCompiledCodeBridge (self=0x74ba6bea00, caller=&lt;optimized out&gt;, shadow_frame=&lt;optimized out&gt;, arg_offset=&lt;optimized out&gt;, result=0x7ff682cc20)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:516</span><br><span class="line">#5  0x00000074ba23ba94 in art::PerformCall (self=0x74ba6bea00, caller_method=&lt;optimized out&gt;, first_dest_reg=&lt;optimized out&gt;, result=0x7ff682cc20, code_item=&lt;optimized out&gt;, callee_frame=&lt;optimized out&gt;,</span><br><span class="line">    use_interpreter_entrypoint=&lt;optimized out&gt;) at art/runtime/common_dex_operations.h:56</span><br><span class="line">#6  art::interpreter::DoCallCommon&lt;false, false&gt; (called_method=&lt;optimized out&gt;, self=&lt;optimized out&gt;, shadow_frame=..., result=&lt;optimized out&gt;, number_of_inputs=&lt;optimized out&gt;, arg=..., vregC=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:1124</span><br><span class="line">#7  art::interpreter::DoCall&lt;false, false&gt; (called_method=&lt;optimized out&gt;, self=0x74ba6bea00, shadow_frame=..., inst=&lt;optimized out&gt;, inst_data=&lt;optimized out&gt;, result=0x7ff682cc20)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:1157</span><br><span class="line">#8  0x00000074ba4d9d6c in art::interpreter::DoFastInvoke&lt;(art::InvokeType)1&gt; (self=0x74ba6bea00, shadow_frame=..., result=0x7ff682cc20, inst=&lt;optimized out&gt;, inst_data=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.h:156</span><br><span class="line">#9  MterpInvokeDirect (self=0x74ba6bea00, shadow_frame=0x7ff682cd20, dex_pc_ptr=0x74b869d316, inst_data=16496) at art/runtime/interpreter/mterp/mterp.cc:194</span><br><span class="line">#10 0x00000074ba4e2a18 in artMterpAsmInstructionStart () at art/runtime/interpreter/mterp/out/mterp_arm64.S:2998</span><br><span class="line">#11 0x00000074ba21bc04 in art::interpreter::Execute (self=0x74ba6bea00, code_item=0x74b869d2dc, shadow_frame=..., result_register=..., stay_in_interpreter=&lt;optimized out&gt;) at art/runtime/interpreter/interpreter.cc:314</span><br><span class="line">#12 0x00000074ba2217d0 in art::interpreter::ArtInterpreterToInterpreterBridge (self=0x74ba6bea00, code_item=0x74b869d2dc, shadow_frame=0x7ff682cd20, result=0x7ff682cfa0) at art/runtime/interpreter/interpreter.cc:632</span><br><span class="line">#13 0x00000074ba23ba74 in art::PerformCall (self=&lt;optimized out&gt;, caller_method=&lt;optimized out&gt;, first_dest_reg=&lt;optimized out&gt;, result=&lt;optimized out&gt;, code_item=&lt;optimized out&gt;, callee_frame=&lt;optimized out&gt;,</span><br><span class="line">    use_interpreter_entrypoint=&lt;optimized out&gt;) at art/runtime/common_dex_operations.h:54</span><br><span class="line">#14 art::interpreter::DoCallCommon&lt;false, false&gt; (called_method=&lt;optimized out&gt;, self=&lt;optimized out&gt;, shadow_frame=..., result=&lt;optimized out&gt;, number_of_inputs=&lt;optimized out&gt;, arg=..., vregC=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:1124</span><br><span class="line">#15 art::interpreter::DoCall&lt;false, false&gt; (called_method=&lt;optimized out&gt;, self=0x74ba6bea00, shadow_frame=..., inst=&lt;optimized out&gt;, inst_data=&lt;optimized out&gt;, result=0x7ff682cfa0)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:1157</span><br><span class="line">#16 0x00000074ba4d8adc in art::interpreter::DoFastInvoke&lt;(art::InvokeType)2&gt; (self=0x74ba6bea00, shadow_frame=..., result=0x7ff682cfa0, inst=&lt;optimized out&gt;, inst_data=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.h:156</span><br><span class="line">#17 MterpInvokeVirtual (self=0x74ba6bea00, shadow_frame=0x7ff682d0a0, dex_pc_ptr=0x74b869b3c0, inst_data=4206) at art/runtime/interpreter/mterp/mterp.cc:161</span><br><span class="line">#18 0x00000074ba4e2918 in artMterpAsmInstructionStart () at art/runtime/interpreter/mterp/out/mterp_arm64.S:2932</span><br><span class="line">#19 0x00000074ba21bc04 in art::interpreter::Execute (self=0x74ba6bea00, code_item=0x74b869b380, shadow_frame=..., result_register=..., stay_in_interpreter=&lt;optimized out&gt;) at art/runtime/interpreter/interpreter.cc:314</span><br><span class="line">#20 0x00000074ba2217d0 in art::interpreter::ArtInterpreterToInterpreterBridge (self=0x74ba6bea00, code_item=0x74b869b380, shadow_frame=0x7ff682d0a0, result=0x7ff682d330) at art/runtime/interpreter/interpreter.cc:632</span><br><span class="line">#21 0x00000074ba23ba74 in art::PerformCall (self=&lt;optimized out&gt;, caller_method=&lt;optimized out&gt;, first_dest_reg=&lt;optimized out&gt;, result=&lt;optimized out&gt;, code_item=&lt;optimized out&gt;, callee_frame=&lt;optimized out&gt;,</span><br><span class="line">    use_interpreter_entrypoint=&lt;optimized out&gt;) at art/runtime/common_dex_operations.h:54</span><br><span class="line">#22 art::interpreter::DoCallCommon&lt;false, false&gt; (called_method=&lt;optimized out&gt;, self=&lt;optimized out&gt;, shadow_frame=..., result=&lt;optimized out&gt;, number_of_inputs=&lt;optimized out&gt;, arg=..., vregC=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:1124</span><br><span class="line">#23 art::interpreter::DoCall&lt;false, false&gt; (called_method=&lt;optimized out&gt;, self=0x74ba6bea00, shadow_frame=..., inst=&lt;optimized out&gt;, inst_data=&lt;optimized out&gt;, result=0x7ff682d330)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:1157</span><br><span class="line">#24 0x00000074ba4d9f54 in art::interpreter::DoFastInvoke&lt;(art::InvokeType)0&gt; (self=0x74ba6bea00, shadow_frame=..., result=0x7ff682d330, inst=&lt;optimized out&gt;, inst_data=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.h:156</span><br><span class="line">#25 MterpInvokeStatic (self=0x74ba6bea00, shadow_frame=0x7ff682d3b0, dex_pc_ptr=0x74b8337caa, inst_data=113) at art/runtime/interpreter/mterp/mterp.cc:205</span><br><span class="line">#26 0x00000074ba4e2a98 in artMterpAsmInstructionStart () at art/runtime/interpreter/mterp/out/mterp_arm64.S:3024</span><br><span class="line">#27 0x00000074ba21bc04 in art::interpreter::Execute (self=0x74ba6bea00, code_item=0x74b8337c18, shadow_frame=..., result_register=..., stay_in_interpreter=&lt;optimized out&gt;) at art/runtime/interpreter/interpreter.cc:314</span><br><span class="line">#28 0x00000074ba4cb454 in artQuickToInterpreterBridge (method=&lt;optimized out&gt;, self=0x74ba6bea00, sp=0x7ff682d550) at art/runtime/entrypoints/quick/quick_trampoline_entrypoints.cc:806</span><br><span class="line">#29 0x00000074ba4f9d10 in art_quick_to_interpreter_bridge () at art/runtime/arch/arm64/quick_entrypoints_arm64.S:2518</span><br><span class="line">#30 0x00000074ba4f0e50 in art_quick_invoke_static_stub () at art/runtime/arch/arm64/quick_entrypoints_arm64.S:1814</span><br><span class="line">#31 0x00000074ba0825d4 in art::ArtMethod::Invoke (this=0x710f99c8, self=0x74ba6bea00, args=0x7ff682d8f8, args_size=4, result=0x7ff682d8c8, shorty=0x74b885046c &quot;VL&quot;) at art/runtime/art_method.cc:369</span><br><span class="line">#32 0x00000074ba414dcc in art::InvokeWithArgArray (soa=..., method=0x710f99c8, arg_array=&lt;optimized out&gt;, result=&lt;optimized out&gt;, shorty=&lt;optimized out&gt;) at art/runtime/reflection.cc:454</span><br><span class="line">#33 0x00000074ba416970 in art::InvokeMethod (soa=..., javaMethod=&lt;optimized out&gt;, javaReceiver=&lt;optimized out&gt;, javaArgs=&lt;optimized out&gt;, num_frames=&lt;optimized out&gt;) at art/runtime/reflection.cc:667</span><br><span class="line">#34 0x00000074ba39a188 in art::Method_invoke (env=&lt;optimized out&gt;, javaMethod=0x14843840, javaReceiver=0x0, javaArgs=0x74ba6bea00) at art/runtime/native/java_lang_reflect_Method.cc:87</span><br><span class="line">#35 0x00000000714faf38 in java.lang.Class.getDeclaredMethodInternal [DEDUPED] () from /onet/malin/android_source/out/target/product/angler/symbols/system/framework/arm64/boot.oat</span><br><span class="line">#36 0x00000074ba4f0b8c in art_quick_invoke_stub () at art/runtime/arch/arm64/quick_entrypoints_arm64.S:1697</span><br><span class="line">#37 0x00000074ba082598 in art::ArtMethod::Invoke (this=0x709f67f0, self=0x74ba6bea00, args=0x7ff682dccc, args_size=12, result=0x7ff682de90, shorty=0x74b9e0c9a3 &quot;LLL&quot;) at art/runtime/art_method.cc:367</span><br><span class="line">#38 0x00000074ba2414a0 in art::interpreter::ArtInterpreterToCompiledCodeBridge (self=0x74ba6bea00, caller=&lt;optimized out&gt;, shadow_frame=&lt;optimized out&gt;, arg_offset=&lt;optimized out&gt;, result=0x7ff682de90)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:516</span><br><span class="line">#39 0x00000074ba23ba94 in art::PerformCall (self=0x74ba6bea00, caller_method=&lt;optimized out&gt;, first_dest_reg=&lt;optimized out&gt;, result=0x7ff682de90, code_item=&lt;optimized out&gt;, callee_frame=&lt;optimized out&gt;,</span><br><span class="line">    use_interpreter_entrypoint=&lt;optimized out&gt;) at art/runtime/common_dex_operations.h:56</span><br><span class="line">#40 art::interpreter::DoCallCommon&lt;false, false&gt; (called_method=&lt;optimized out&gt;, self=&lt;optimized out&gt;, shadow_frame=..., result=&lt;optimized out&gt;, number_of_inputs=&lt;optimized out&gt;, arg=..., vregC=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:1124</span><br><span class="line">#41 art::interpreter::DoCall&lt;false, false&gt; (called_method=&lt;optimized out&gt;, self=0x74ba6bea00, shadow_frame=..., inst=&lt;optimized out&gt;, inst_data=&lt;optimized out&gt;, result=0x7ff682de90)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.cc:1157</span><br><span class="line">#42 0x00000074ba4d8adc in art::interpreter::DoFastInvoke&lt;(art::InvokeType)2&gt; (self=0x74ba6bea00, shadow_frame=..., result=0x7ff682de90, inst=&lt;optimized out&gt;, inst_data=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/interpreter/interpreter_common.h:156</span><br><span class="line">#43 MterpInvokeVirtual (self=0x74ba6bea00, shadow_frame=0x7ff682df10, dex_pc_ptr=0x74b8f402ea, inst_data=12398) at art/runtime/interpreter/mterp/mterp.cc:161</span><br><span class="line">---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---</span><br><span class="line">#44 0x00000074ba4e2918 in artMterpAsmInstructionStart () at art/runtime/interpreter/mterp/out/mterp_arm64.S:2932</span><br><span class="line">#45 0x00000074ba21bc04 in art::interpreter::Execute (self=0x74ba6bea00, code_item=0x74b8f402c4, shadow_frame=..., result_register=..., stay_in_interpreter=&lt;optimized out&gt;) at art/runtime/interpreter/interpreter.cc:314</span><br><span class="line">#46 0x00000074ba4cb454 in artQuickToInterpreterBridge (method=&lt;optimized out&gt;, self=0x74ba6bea00, sp=0x7ff682e0a0) at art/runtime/entrypoints/quick/quick_trampoline_entrypoints.cc:806</span><br><span class="line">#47 0x00000074ba4f9d10 in art_quick_to_interpreter_bridge () at art/runtime/arch/arm64/quick_entrypoints_arm64.S:2518</span><br><span class="line">#48 0x00000000736318e8 in com.android.internal.os.ZygoteInit.main () from /onet/malin/android_source/out/target/product/angler/symbols/system/framework/arm64/boot-framework.oat</span><br><span class="line">#49 0x00000074ba4f0e50 in art_quick_invoke_static_stub () at art/runtime/arch/arm64/quick_entrypoints_arm64.S:1814</span><br><span class="line">#50 0x00000074ba0825d4 in art::ArtMethod::Invoke (this=0x7110ac50, self=0x74ba6bea00, args=0x7ff682e4a0, args_size=4, result=0x7ff682e480, shorty=0x74b9124816 &quot;VL&quot;) at art/runtime/art_method.cc:369</span><br><span class="line">#51 0x00000074ba414dcc in art::InvokeWithArgArray (soa=..., method=0x7110ac50, arg_array=&lt;optimized out&gt;, result=&lt;optimized out&gt;, shorty=&lt;optimized out&gt;) at art/runtime/reflection.cc:454</span><br><span class="line">#52 0x00000074ba4149f0 in art::InvokeWithVarArgs (soa=..., obj=0x0, mid=&lt;optimized out&gt;, args=...) at art/runtime/reflection.cc:481</span><br><span class="line">#53 0x00000074ba31b42c in art::JNI::CallStaticVoidMethodV (env=&lt;optimized out&gt;, mid=0x7110ac50, args=...) at art/runtime/jni_internal.cc:1731</span><br><span class="line">#54 0x00000074ba0b6a90 in art::CheckJNI::CallMethodV (function_name=0x74ba518fe4 &quot;CallStaticVoidMethodV&quot;, env=0x74ba6cb1c0, obj=0x0, c=0x69, mid=0x7110ac50, vargs=..., type=&lt;optimized out&gt;, invoke=&lt;optimized out&gt;)</span><br><span class="line">    at art/runtime/check_jni.cc:3248</span><br><span class="line">#55 0x00000074ba0a70e4 in art::CheckJNI::CallStaticVoidMethodV (env=&lt;optimized out&gt;, c=&lt;optimized out&gt;, mid=0x7ff682e480, vargs=...) at art/runtime/check_jni.cc:2143</span><br><span class="line">#56 0x000000753d539da8 in _JNIEnv::CallStaticVoidMethod (this=&lt;optimized out&gt;, clazz=&lt;optimized out&gt;, methodID=&lt;optimized out&gt;) at libnativehelper/include_jni/jni.h:780</span><br><span class="line">#57 0x000000753d53c51c in android::AndroidRuntime::start (this=&lt;optimized out&gt;, className=0x5580a87969 &quot;com.android.internal.os.ZygoteInit&quot;, options=..., zygote=&lt;optimized out&gt;) at frameworks/base/core/jni/AndroidRuntime.cpp:1122</span><br><span class="line">#58 0x0000005580a86444 in main (argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;) at frameworks/base/cmds/app_process/app_main.cpp:352</span><br></pre></td></tr></table></figure>
<p>13.<br><a href="https://blog.csdn.net/zhu929033262/article/details/76064044" target="_blank" rel="noopener">GDB调试Android代码——环境搭建及调试过程</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/08/08/chromium-cronet/" rel="next" title="chromium-cronet">
                <i class="fa fa-chevron-left"></i> chromium-cronet
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/09/12/busybox/" rel="prev" title="BusyBox">
                BusyBox <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div class="ds-thread" data-thread-key="2018/08/18/android-source/"
           data-title="Source for Android 28" data-url="https://www.malin.xyz/2018/08/18/android-source/">
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">马琳</p>
              <p class="site-description motion-element" itemprop="description">进阶之路<br/>相信美好的事件即将发生</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">45</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">马琳</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"malin"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  


















  





  

  

  

  
  

  

  

  

</body>
</html>
